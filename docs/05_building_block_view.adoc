[[section-building-block-view]]

== Building Block View

=== White Box Overall System

.Overview Diagram
image:05_Building_Block_Overall_View.PNG['Overall View of the System']

Motivation::
This is an overall view of the system that describes only the most important present interfaces.

Contained Building Blocks::
[options="header",cols="1,2"]
|===
|Block|Description
|PODs|The main storage system, each user has his information stored in his own private POD.
|Map API|API that allows to obtain the map to be displayed.
|Data Base|Stores the minimum information required for the public map to load.
|User|Represents how each individual user is set to interact with the system, through LoMap and storing his information on his POD.
|===
Important Interfaces::
The most important interfaces, (described in the next levels) are the ones in charge of the communication with the PODs manager and the database.

=== LoMap Architecture

image:05_Building_Block_Level_1.PNG['System Level 1']

Purpose::
Describes the architecture of the inner LoMap system, it's how the system is structured and how each layer interacts within the system.
The architecture described in the diagram _System Level 1_ is a Clean Architecture.

Interfaces::
[options="header",cols="1,2"]
|===
|Interface|Description
|Entities|Represent the domain of the system, those classes that describe the enterprise business rules.
|App Business Logic|The use cases, the actual application business rules that describe how the application works.
|Presentation|The related documents that are in charge of the presentation of the application.
|Infrastructure|Those external interfaces that interact with the application, including the Database Management System, the APIs that are used (Map API), the PODs provider and any other external service.
|===

==== Infrastructure
image:05_Building_Block_Level_1_1.JPG['White Box 1.1']

Purpose::
It is the Infrastructure of the application, the RestApi and the WebApp both interact with external interfaces and APIs,
these interfaces are represented in this level.

Interfaces::
[options="header",cols="1,2"]
|===
|Interface|Description
|PODManager|Manages the storing of information inside the PODs provider
|PlaceManager|Manages the storing of places and maps inside the PODs
|SessionManager|Manages the users session, is the one in charge of the login, logout,etc...
|FriendsManager|Is the one that obtains the list of friends from the user, as well as their information
|LeafletMapAdapter|Is the class that interacts with the Map API and presents it to the UI
|PlacesController|This controller is the one in charge of adding and deleting places in the Mongo database
|api|This class is the one that communicates with the RestApi, it interacts with it in order to store the places in the database
|===